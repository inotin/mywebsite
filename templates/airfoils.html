<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Ilia Notin Projects | Airfoils</title>
    {%load static%}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="icon" type="image/png" href="{%static 'favicon.png'%}"/>
  </head>

  <body>
    <a href="{%url 'home'%}"><button type="button" style="margin-top:20px; margin-left:12px; color:grey;" class="btn btn-light">‚Üê Back home</button></a>
    <h1 style="margin-top:30px; margin-left: 10px;">Airfoils <a href="https://github.com/inotin/airfoils"><img style="height:28px" src="{%static 'GitHub-Mark-120px-plus.png'%}" alt=""></a></h1>
    <div class="container" style="max-width: 100%;">
      <div class="row" >
        <div class="col-lg-4">
          <h5>Overview</h5>

          <p> I really love planes and aviation in general. Even though I understand underlying principles and physics of an aircraft, it is always fascinating to see these beatiful machines flying. It's like magic.
            The main reason why they fly is the lift force generated by the wing. The lift force appears due to special geometry of an airfoil (cross section of the wing) which creates a zone of lower pressure above the wing and higher pressure under the wing.
            This pressure difference basically lifts the aircraft in the air (apart of magic, joking).
            <br>
            There are so many types of airfoils for different types of aircraft, different airspeeds and etc. Each of them has its individual set of aerodynamic properties, of which two major ones are:
            <li>coefficient of lift (Cl), which describes how much lift wing with such shape generates</li>
            <li>coefficient of drag (Cd), which describes how much drag wing with such shape generates</li>
            <br>
            One of the interesting tasks which aerospace engineers face is developing optimal airfoil with a certain lift to drag ratio.
            The traditional approaches is to conduct simulation (CFD analysis) using specialized software and then perform real experiments using wind tunnels.
            The results of such experiments are put into airfoil databases for further use.
            What I decided to do is to solve a reverse task, i.e. having a bunch of experimental results for certain geometries, predict aerodynamic properties for a previously unseen airfoil.
            <br>
            <br>
          <h6>Dataset info</h6>
          <p>The dataset is really small by now and consists of <b>118</b> records of airfoils with corresponding aerodynamic properties. <br>
            The problem is that there are not many available sources, usually the this type of information is provided in the form of experimental report scans.
            Only few of them are digitized by enthusiasts, one of such files can be found here: <a href="https://forums.x-plane.org/index.php?/files/file/2538-naca-report-tr-824-digitized/">Source</a> <br>
          To solve this problem in the future it is possible to use CFD simulations for gaining new data or form a team which would digitize experimental reports <br>
          <b>Features:</b> <br>
          <li>Coordinates of points froming an airfoil</li>
          <li>Angle of attack - angle between airflow and airfoil which affects aerodynamic properties</li>
          <br>
          <b>Target variable:</b>
          <li>Cl - coefficient of lift</li>
         </p>

        </div>
        <div class="col-lg-8">
          <!-- <iframe style="width: 100%; height: 400px;" src="{%static 'sales/monthlySales.html'%}" title="monthlySales" ></iframe> -->
          <img style="width: 100%" src="{%static 'airfoils/img1.png'%}" alt="img1">

        </div>
      </div>


      <div class="row" style="margin-top:40px">
        <div class="col-lg-4">
          <h5>Exploratory Data Analysis</h5>
          <h6 style="margin-top:40px">Airfoil example</h6>
          <p>That is how typical airfoil looks like composed of XY-points mentioned earlier <br>
          Below there is a plot of Cl (coefficient of lift) vs AoA (angle of attack) for this airfoil</p>
        </div>
        <div class="col-lg-8">

          <!-- <iframe style="width: 100%; height: 400px;" src="{%static 'sales/dailySales.html'%}" title="dailySales" ></iframe> -->
          <iframe style="width: 100%; height: 400px;" src="{%static 'airfoils/airfoils_airfoil.html'%}"></iframe>
          <iframe style="width: 100%; height: 400px;" src="{%static 'airfoils/airfoils_alphaCl.html'%}"></iframe>
        </div>
      </div>


      <div class="row" style="margin-top:40px">
        <div class="col-lg-4">
          <h6 style="margin-top:40px">Angle of attack</h6>
          <p>Here angle of attack distribution is showed. It can be noticed that most of them have values of about -13, 0, 15 degrees.</p>
        </div>
        <div class="col-lg-8">

          <!-- <iframe style="width: 100%; height: 400px;" src="{%static 'sales/dailySales.html'%}" title="dailySales" ></iframe> -->
          <iframe style="width: 100%; height: 400px;" src="{%static 'airfoils/airfoils_AoA_dist.html'%}"></iframe>
        </div>
      </div>

      <div class="row" style="margin-top:40px">
        <div class="col-lg-4">
          <h6 style="margin-top:40px">Target variable distribution</h6>
          <p>Here Cl (target variable) distribution is showed.</p>
        </div>
        <div class="col-lg-8">

          <iframe style="width: 100%; height: 400px;" src="{%static 'airfoils/airfoils_Cl_dist.html'%}"></iframe>
        </div>
      </div>


      <!-- <div class="row" style="margin-top:40px">
        <div class="col-lg-4">
          <h6 style="margin-top:40px">Monthly sales</h6>
          <p></p>
        </div>
        <div class="col-lg-8">

          <iframe style="width: 100%; height: 400px;" src="{%static 'sales/monthlySales.html'%}" title="monthlySales" ></iframe>

        </div>
      </div> -->



      <div class="row" style="margin-top:40px">
        <div class="col-lg-4">
          <h6 style="margin-top:40px">Time series decomposition</h6>
          <p>Boxplots were formed which allow to assess the significance of the differences month-to-month (seasonality) and year-to-year (trend)</p>
          <p>It can be seen that though in 2020 the interquartile range is enormous (thanks to gloabal pandemy) there's a slight positive trend. <br>
          Seasonality is pretty distinct which is a good sign for predictions.</p>
        </div>
        <div class="col-lg-8">

          <iframe style="width: 100%; height: 850px;" src="{%static 'sales/decomposition.html'%}" title="decomposition" ></iframe>
          <img style="width: 100%" src="{%static 'sales/boxPlots.png'%}" alt="boxplots">
        </div>
      </div>



      <div class="row" >
        <div class="col-lg-4">
          <h4 style="margin-top:70px">Modelling</h4>
          <h5>Regression</h5>
          I chose regression based modelling as a first approach which allows to build comparatevily simple and interpretable models (compared to neural networks).
          <br> What I decided to do is to go through several modeling techniques:
          <li>Random forest regression</li>
          <li>Gradient boosting</li>
          <li>CatBoost</li>
          <li>XGBoost</li>
          But before that it's necessary to generate some features.
          <br>
          <h6>Feature generation</h6>
          <p>As soon as the data is 1-dimensional to build a more accurate model we need to generate more features. <br>
          One approach is to generate polynomial features, but as soon as we have time series data it makes more sense to generate features
          such as previous values (lags), rollong sum and rolling mean. Tim window for feature generation is 52 week.</p>

        </div>
        <div class="col-lg-8">

          <iframe style="width: 100%; height: 600px;" src="{%static 'movies_years.html'%}" title="Colors vs Years" ></iframe>

        </div>
      </div>



      <div class="row" >
        <div class="col-lg-4">
          <h5>LSTM</h5>
          I was not totally satisfied with metrics for regression models and decided to try a more complex approach - neural networks.
          If we consider time series, the natural choice is a long short-term memory neural networks which are basically a type of
          recurrent neural networks which allow to take into the account precedent data (or 'remember' it) so it's a great option for time series prediction tasks.
          <br>
          I experimented with following approaches:
          <li>Vanilla LSTM with rule-of-thumb hyperparameters</li>
          <li>Vanilla LSTM with rule-of-thumb hyperparameters and early stopping</li>
          <li>Stacked LSTM</li>
          <li>Vanilla LSTM with a grid search for hyperparameter tuning (defining the optimal number of hidden units and epochs) </li>
          <br>
          <h6>Train and test sets</h6>
          I split my data into train and test sets with proportions of 85% and 15% respectively which can seem strange.
          But what I wanted to do is to gain maximum sequence information due to unusual data of year 2020, which was caused by Covid.
          Moreover, the train set had a spike in January, common for all precedent years, which is a nice feature for estimating accuracy of the model.

        </div>
        <div class="col-lg-8">

          <iframe style="width: 100%; height: 600px;" src="{%static 'movies_years.html'%}" title="Colors vs Years" ></iframe>

        </div>
      </div>



      <div class="row" >
        <div class="col-lg-4">
          <h4 style="margin-top:70px">Final results and thoughts</h4>
          <h5>Final results</h5>
          What do we have in the end? We have a bunch of models which are not outsganding from RMSE point of view. But what we can do is to imitate a random forest regression approach, i.e. having numerous (not in my case but still) models, take an average of their predictions.

          <br>
          <h6>Thoughts</h6>
          <p>What can be done to improve the model? We can do several things:
          <li>Obtain some external data which possibly affects the sales.</li>
          <li></li>
          As soon as the data is 1-dimensional to build a more accurate model we need to generate more features. <br>
          One approach is to generate polynomial features, but as soon as we have time series data it makes more sense to generate features
          such as previous values (lags), rollong sum and rolling mean. Tim window for feature generation is 52 week.</p>

        </div>
        <div class="col-lg-8">

          <iframe style="width: 100%; height: 600px;" src="{%static 'movies_years.html'%}" title="Colors vs Years" ></iframe>

        </div>
      </div>




      <div class="row" >
        <div class="col-lg-4">

          <h6 style="margin-top:70px">Colors and countries</h6>

            <p> I considered countries with the highest GDP in this barplot. It's interesting that India demonstrates a significant variety of used RGB colours and lack of black compared to other ones.
              Russian movie posters do not involve much use of white color, though it has RGB usage comparable with India. Canadian movie posters are the ones that use black the most (from the considered countries).
              It is hard to tell the distinct reasons for the observed differences but probably it has cultural reasons.
            </p>
        </div>
        <div class="col-lg-8">

          <iframe style="width: 100%; height: 620px;" src="{%static 'movies_countries.html'%}" title="Colors vs Countries" ></iframe>

        </div>
      </div>


      <div class="row" >

        <div class="col-lg-4">
          <h6>Colors and countries on the map</h6>
            <p> I tried to define the most used color from RGB range expecting to get a colourful map, but it turns out that the most used color is orange. This fact can be explained by the presence of people on the posters regardless of country.
            </p>
        </div>

        <div class="col-lg-8">
          <iframe style="width: 100%; height: 620px;" src="{%static 'movies_map.html'%}" title="Colors vs Countries" ></iframe>
        </div>

      </div>


    </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
  </body>
  <footer style="color:grey; position: relative; bottom:10px;left:10px;">
    Made using Django, Bootstrap, JavaScript and AWS by Ilia Notin
  </footer>
</html>
